(function(){"use strict";var e={4107:function(e,a,t){var o=t(9242),n=t(3396);const l={class:"app-container"},s=(0,n.Uk)(" 系统状态 "),i=(0,n.Uk)("资源搜索"),r=(0,n.Uk)("下载器"),d=(0,n.Uk)("设置");function u(e,a,t,o,u,c){const m=(0,n.up)("router-view"),p=(0,n.up)("van-icon"),v=(0,n.up)("van-tabbar-item"),w=(0,n.up)("van-tabbar");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(m),(0,n.Wm)(w,{class:"tab-bar",modelValue:o.active,"onUpdate:modelValue":a[0]||(a[0]=e=>o.active=e),route:"",placeholder:""},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{name:"system",to:"/system"},{icon:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"iconfont","class-prefix":"icon",name:"system"})])),default:(0,n.w5)((()=>[s])),_:1}),(0,n.Wm)(v,{icon:"search",name:"search",to:"/search"},{default:(0,n.w5)((()=>[i])),_:1}),(0,n.Wm)(v,{icon:"back-top",name:"downloader",to:"/downloader"},{default:(0,n.w5)((()=>[r])),_:1}),(0,n.Wm)(v,{icon:"setting-o",name:"setting",to:"/setting"},{default:(0,n.w5)((()=>[d])),_:1})])),_:1},8,["modelValue"])])}var c=t(4870),m={name:"App",components:{},setup(){const e=(0,c.iH)("search");return{active:e}}},p=t(89);const v=(0,p.Z)(m,[["render",u],["__scopeId","data-v-3d3d8052"]]);var w=v,h=t(7353),g=(t(5110),t(9882)),f=t(678),y=t(7139);const k=e=>((0,n.dD)("data-v-311b0ab8"),e=e(),(0,n.Cn)(),e),b={class:"main"},_={key:0,class:"label"},S={key:1,class:"group"},I={class:"item"},W=k((()=>(0,n._)("div",{class:"key"},"数据总量",-1))),D={class:"value"},C={class:"item"},U=k((()=>(0,n._)("div",{class:"key"},"本次新增",-1))),V={class:"value"},x={class:"item"},z=k((()=>(0,n._)("div",{class:"key"},"违规拦截",-1))),L={class:"value"},q={class:"item"},N=k((()=>(0,n._)("div",{class:"key"},"今日新增",-1))),P={class:"value"},j={class:"item"},A=k((()=>(0,n._)("div",{class:"key"},"最近一小时",-1))),H={class:"value"},O={class:"item"},Z=k((()=>(0,n._)("div",{class:"key"},"最近一分钟",-1))),T={class:"value"},B={key:2,class:"label"},K={class:"group"},M={key:0,class:"item"},F=k((()=>(0,n._)("div",{class:"key"},"爬虫速度IPv4",-1))),E={class:"value"},R={key:1,class:"item"},Y=k((()=>(0,n._)("div",{class:"key"},"种子生产IPv4",-1))),G={class:"value"},$={key:2,class:"item"},J=k((()=>(0,n._)("div",{class:"key"},"转换率IPv4",-1))),Q={class:"value"},X={key:3,class:"item"},ee=k((()=>(0,n._)("div",{class:"key"},"爬虫速度IPv6",-1))),ae={class:"value"},te={key:4,class:"item"},oe=k((()=>(0,n._)("div",{class:"key"},"种子生产IPv6",-1))),ne={class:"value"},le={key:5,class:"item"},se=k((()=>(0,n._)("div",{class:"key"},"转换率IPv6",-1))),ie={class:"value"},re={key:3,class:"label"},de={key:4,class:"group"},ue={class:"item"},ce=k((()=>(0,n._)("div",{class:"key"},"任务总数",-1))),me={class:"value"},pe={class:"item"},ve=k((()=>(0,n._)("div",{class:"key"},"正在下载",-1))),we={class:"value"},he={class:"item"},ge=k((()=>(0,n._)("div",{class:"key"},"已完成",-1))),fe={class:"value"},ye={class:"item"},ke=k((()=>(0,n._)("div",{class:"key"},"当前下载速度",-1))),be={class:"value"},_e={class:"item"},Se=k((()=>(0,n._)("div",{class:"key"},"当前上传速度",-1))),Ie={class:"value"},We={class:"item"},De=k((()=>(0,n._)("div",{class:"key"},"剩余磁盘空间",-1))),Ce={class:"value"},Ue={key:5,class:"label"},Ve={key:6,style:{position:"relative"}},xe={key:0,id:"ipv4",style:{width:"100%",height:"25vh"}},ze={key:1,id:"ipv6",style:{width:"100%",height:"25vh"}};function Le(e,a,t,o,l,s){const i=(0,n.up)("van-tab"),r=(0,n.up)("van-tabs");return(0,n.wg)(),(0,n.iD)("div",b,[o.showStore?((0,n.wg)(),(0,n.iD)("div",_,"仓库信息")):(0,n.kq)("",!0),o.showStore?((0,n.wg)(),(0,n.iD)("div",S,[(0,n._)("div",I,[W,(0,n._)("div",D,(0,y.zw)(o.storeInfo.count),1)]),(0,n._)("div",C,[U,(0,n._)("div",V,(0,y.zw)(o.storeInfo.addCount),1)]),(0,n._)("div",x,[z,(0,n._)("div",L,(0,y.zw)(o.storeInfo.illegalCount),1)]),(0,n._)("div",q,[N,(0,n._)("div",P,(0,y.zw)(o.storeInfo.today),1)]),(0,n._)("div",j,[A,(0,n._)("div",H,(0,y.zw)(o.storeInfo.hour),1)]),(0,n._)("div",O,[Z,(0,n._)("div",T,(0,y.zw)(o.storeInfo.tenMinutes),1)])])):(0,n.kq)("",!0),o.showIpv4||o.showIpv6?((0,n.wg)(),(0,n.iD)("div",B,"爬虫信息")):(0,n.kq)("",!0),(0,n._)("div",K,[o.showIpv4?((0,n.wg)(),(0,n.iD)("div",M,[F,(0,n._)("div",E,(0,y.zw)(o.announce.in)+"/s",1)])):(0,n.kq)("",!0),o.showIpv4?((0,n.wg)(),(0,n.iD)("div",R,[Y,(0,n._)("div",G,(0,y.zw)(o.torrent.in)+"/s",1)])):(0,n.kq)("",!0),o.showIpv4?((0,n.wg)(),(0,n.iD)("div",$,[J,(0,n._)("div",Q,(0,y.zw)(0!==o.announce.out?Math.round(o.torrent.in/o.announce.out*100)+"%":"--"),1)])):(0,n.kq)("",!0),o.showIpv6?((0,n.wg)(),(0,n.iD)("div",X,[ee,(0,n._)("div",ae,(0,y.zw)(o.announceIpv6.in)+"/s",1)])):(0,n.kq)("",!0),o.showIpv6?((0,n.wg)(),(0,n.iD)("div",te,[oe,(0,n._)("div",ne,(0,y.zw)(o.torrentIpv6.in)+"/s",1)])):(0,n.kq)("",!0),o.showIpv6?((0,n.wg)(),(0,n.iD)("div",le,[se,(0,n._)("div",ie,(0,y.zw)(0!==o.announceIpv6.out?Math.round(o.torrentIpv6.in/o.announceIpv6.out*100)+"%":"--"),1)])):(0,n.kq)("",!0)]),o.showDownloader?((0,n.wg)(),(0,n.iD)("div",re,"下载器信息")):(0,n.kq)("",!0),o.showDownloader?((0,n.wg)(),(0,n.iD)("div",de,[(0,n._)("div",ue,[ce,(0,n._)("div",me,(0,y.zw)(o.downloaderInfo.dlTotalCount),1)]),(0,n._)("div",pe,[ve,(0,n._)("div",we,(0,y.zw)(o.downloaderInfo.dlCount),1)]),(0,n._)("div",he,[ge,(0,n._)("div",fe,(0,y.zw)(o.downloaderInfo.dlCompleteCount),1)]),(0,n._)("div",ye,[ke,(0,n._)("div",be,(0,y.zw)(o.downloaderInfo.dlSpeed),1)]),(0,n._)("div",_e,[Se,(0,n._)("div",Ie,(0,y.zw)(o.downloaderInfo.upSpeed),1)]),(0,n._)("div",We,[De,(0,n._)("div",Ce,(0,y.zw)(o.downloaderInfo.freeSpaceOnDisk),1)])])):(0,n.kq)("",!0),o.showIpv4||o.showIpv6?((0,n.wg)(),(0,n.iD)("div",Ue,"爬虫队列信息")):(0,n.kq)("",!0),o.showIpv4||o.showIpv6?((0,n.wg)(),(0,n.iD)("div",Ve,[(0,n.Wm)(r,{class:"dateBtn",active:o.active,"onUpdate:active":a[0]||(a[0]=e=>o.active=e),color:"#AAAAAA",type:"card",shrink:"",onChange:e.changeTime},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{title:"10分钟"}),(0,n.Wm)(i,{title:"1小时"})])),_:1},8,["active","onChange"]),o.showIpv4?((0,n.wg)(),(0,n.iD)("div",xe)):(0,n.kq)("",!0),o.showIpv6?((0,n.wg)(),(0,n.iD)("div",ze)):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])}t(7658);var qe=t(8313),Ne=t(9650),Pe=t(776);g.Z.interceptors.response.use((e=>200===e.data.code?Promise.resolve(e):(100103===e.data.code?Ft.push("/login"):10310===e.data.code?(0,Ne.WD)({title:"友情提示",message:"下载器尚未配置或启用，是否前往配置"}).then((()=>{Ft.push("/setting")})):(0,Pe.NU)({message:e.data.msg}),Promise.reject(e))),(e=>Promise.reject(e)));class je{static async get(e,a){return await g.Z.get(e,{params:a})}static async post(e,a){return await g.Z.post(e,{...a})}}var Ae={name:"SystemView",components:{},setup(){null==localStorage.getItem("showIpv4")&&localStorage.setItem("showIpv4","true"),null==localStorage.getItem("showIpv6")&&localStorage.setItem("showIpv6","true"),null==localStorage.getItem("downloader")&&localStorage.setItem("downloader","true"),null==localStorage.getItem("store")&&localStorage.setItem("store","true");const e=(0,c.iH)("true"===localStorage.getItem("showIpv4")),a=(0,c.iH)("true"===localStorage.getItem("showIpv6")),t=(0,c.iH)("true"===localStorage.getItem("downloader")),o=(0,c.iH)("true"===localStorage.getItem("store"));e.value||a.value||t.value||o.value||(0,Ne.WD)({title:"友情提示",message:"请在“设置”-“系统数据展示”选择需要展示的数据，是否前往配置"}).then((()=>{Ft.push("/setting/data-show")}));const l=(0,c.iH)({}),s=(0,c.iH)({}),i=(0,c.iH)({}),r=(0,c.iH)({}),d=(0,c.iH)({}),u=(0,c.iH)({}),m=(0,c.iH)(0);let p,v,w=[{age:600,incr:5},{age:3600,incr:60},{age:86400,incr:1200}];(0,n.bv)((()=>{g.initData(!0)}));let h=setInterval((()=>{g.initData(!1)}),5e3);(0,f.iS)(((e,a,t)=>{clearInterval(h),t()}));const g={initData(n){let c=[];e.value&&(c.push(je.get("/system/status/announce.queue",w[m.value]).then((e=>{l.value=e.data.data}))),c.push(je.get("/system/status/torrent.queue",w[m.value]).then((e=>{i.value=e.data.data})))),a.value&&(c.push(je.get("/system/status/announce.ipv6.queue",w[m.value]).then((e=>{s.value=e.data.data}))),c.push(je.get("/system/status/torrent.ipv6.queue",w[m.value]).then((e=>{r.value=e.data.data})))),o.value&&c.push(je.get("/system/store/info").then((e=>{d.value=e.data.data}))),t.value&&c.push(je.get("/system/downloader/info").then((e=>{u.value=e.data.data}))),Promise.all(c).then((()=>{n?(e.value&&g.initIpv4Chart(),a.value&&g.initIpv6Chart()):(e.value&&p.setOption({xAxis:[{boundaryGap:!1,data:l.value.inSample.map((e=>e.date))}],series:[{name:"announce",type:"line",showSymbol:!1,data:l.value.inSample.map((e=>e.sample))},{name:"torrent",type:"line",showSymbol:!1,data:i.value.inSample.map((e=>e.sample))}]}),a.value&&v.setOption({xAxis:[{boundaryGap:!1,data:s.value.inSample.map((e=>e.date))}],series:[{name:"announce",type:"line",showSymbol:!1,data:s.value.inSample.map((e=>e.sample))},{name:"torrent",type:"line",showSymbol:!1,data:r.value.inSample.map((e=>e.sample))}]}))}))},initIpv4Chart(){let e={grid:[{top:"25%",left:"2%",right:"2%",bottom:"2%",containLabel:!0}],title:[{left:"0",top:"2%",text:"IPv4(/s)",textStyle:{fontSize:14}}],legend:[{top:"2%",data:["announce","torrent"]}],tooltip:{trigger:"axis"},xAxis:[{boundaryGap:!1,data:l.value.inSample.map((e=>e.date))}],yAxis:[{}],series:[{name:"announce",type:"line",showSymbol:!1,data:l.value.inSample.map((e=>e.sample))},{name:"torrent",type:"line",showSymbol:!1,data:i.value.inSample.map((e=>e.sample))}]},a=document.getElementById("ipv4");a.removeAttribute("_echarts_instance_"),p=qe.S1(a),p.setOption(e),window.onresize=()=>{p.resize()}},initIpv6Chart(){let e={grid:[{top:"25%",left:"2%",right:"2%",bottom:"2%",containLabel:!0}],title:[{left:"0",top:"2%",text:"IPv6(/s)",textStyle:{fontSize:14}}],legend:[{top:"2%",data:["announce","torrent"]}],tooltip:{trigger:"axis"},xAxis:[{boundaryGap:!1,data:s.value.inSample.map((e=>e.date))}],yAxis:[{}],series:[{name:"announce",type:"line",showSymbol:!1,data:s.value.inSample.map((e=>e.sample))},{name:"torrent",type:"line",showSymbol:!1,data:r.value.inSample.map((e=>e.sample))}]},a=document.getElementById("ipv6");a.removeAttribute("_echarts_instance_"),v=qe.S1(a),v.setOption(e),window.onresize=()=>{v.resize()}},changeTime(){clearInterval(h),g.initData(!0),h=setInterval((()=>{g.initData(!1)}),5e3)}};return{showIpv4:e,showIpv6:a,showDownloader:t,showStore:o,...g,announce:l,announceIpv6:s,torrent:i,torrentIpv6:r,storeInfo:d,downloaderInfo:u,active:m}}};const He=(0,p.Z)(Ae,[["render",Le],["__scopeId","data-v-311b0ab8"]]);var Oe=He;const Ze={class:"main"};function Te(e,a,t,o,l,s){const i=(0,n.up)("SearchInput"),r=(0,n.up)("van-sticky"),d=(0,n.up)("SearchList");return(0,n.wg)(),(0,n.iD)("div",Ze,[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,{onOnSearch:e.onSearch},null,8,["onOnSearch"])])),_:1}),(0,n.Wm)(d,{ref:"searchList"},null,512)])}const Be={class:"main"};function Ke(e,a,t,l,s,i){const r=(0,n.up)("van-icon"),d=(0,n.up)("van-search"),u=(0,n.up)("van-picker"),c=(0,n.up)("van-popup");return(0,n.wg)(),(0,n.iD)("div",Be,[(0,n.Wm)(d,{modelValue:e.keywords,"onUpdate:modelValue":a[2]||(a[2]=a=>e.keywords=a),"show-action":"",placeholder:e.search[1].placeholder},{label:(0,n.w5)((()=>[(0,n._)("div",{onClick:a[0]||(a[0]=(0,o.iM)(((...a)=>e.showPicker&&e.showPicker(...a)),["stop"]))},[(0,n.Uk)((0,y.zw)(e.search[0].label+"·"+e.search[1].label)+" ",1),(0,n.Wm)(r)])])),action:(0,n.w5)((()=>[(0,n._)("div",{onClick:a[1]||(a[1]=(...a)=>e.onSearch&&e.onSearch(...a))},"搜索")])),_:1},8,["modelValue","placeholder"]),(0,n.Wm)(c,{show:e.show,"onUpdate:show":a[3]||(a[3]=a=>e.show=a),position:"bottom"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{columns:l.columns,onCancel:e.showPicker,onConfirm:e.onConfirm},null,8,["columns","onCancel","onConfirm"])])),_:1},8,["show"])])}var Me={name:"SearchInput",emits:["onSearch"],setup(e,{emit:a}){const t=[[{text:"精确查询",value:"term",label:"精确"},{text:"模糊查询",value:"match",label:"模糊"},{text:"通配符查询(?,*)",value:"wildcard",label:"通配符"},{text:"正则查询",value:"regexp",label:"正则"}],[{text:"搜索种子名称",value:"name",placeholder:"请输入种子名称",label:"名称"},{text:"搜索种子包含的文件",value:"files.path",placeholder:"请输入种子包含的文件名",label:"文件"},{text:"全部(名称+文件)",value:null,placeholder:"请输入查询内容",label:"全部"}]],o=(0,c.qj)({keywords:"",show:!1,search:[t[0][0],t[1][0]]}),n={showPicker:e=>{e.preventDefault(),o.show=!o.show},onSearch:()=>{if(null==o.keywords||""===o.keywords)return;let e={searchModel:o.search[0].value,searchField:o.search[1].value,keywords:o.keywords};a("onSearch",e)},onConfirm:({selectedOptions:e})=>{o.search=e,o.show=!o.show,n.onSearch()}};return{columns:t,...(0,c.BK)(o),...n}}};const Fe=(0,p.Z)(Me,[["render",Ke]]);var Ee=Fe;const Re={class:"main"};function Ye(e,a,t,o,l,s){const i=(0,n.up)("ListItem"),r=(0,n.up)("van-list"),d=(0,n.up)("ListRefresh");return(0,n.wg)(),(0,n.iD)("div",Re,[(0,n.Wm)(r,{loading:e.loading,finished:e.finished,"finished-text":"没有更多了",offset:"200",onLoad:e.nextSearch},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{torrents:o.list},null,8,["torrents"])])),_:1},8,["loading","finished","onLoad"]),(0,n.Wm)(d,{torrents:o.list,"onUpdate:torrents":a[0]||(a[0]=e=>o.list=e)},null,8,["torrents"])])}const Ge={class:"main"},$e=["innerHTML"],Je=["innerHTML"],Qe={class:"item-label"},Xe={style:{width:"23%"}},ea={style:{width:"23%"}},aa={style:{width:"25%"}},ta={key:0},oa={style:{width:"22%"}},na={key:0};function la(e,a,t,o,l,s){const i=(0,n.up)("ListDetail"),r=(0,n.up)("van-collapse-item"),d=(0,n.up)("van-collapse");return(0,n.wg)(),(0,n.iD)("div",Ge,[(0,n.Wm)(d,{modelValue:e.activeName,"onUpdate:modelValue":a[0]||(a[0]=a=>e.activeName=a),accordion:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.torrents,(a=>((0,n.wg)(),(0,n.j4)(r,{key:a.hash,name:a.hash},{title:(0,n.w5)((()=>[(0,n._)("div",{style:{"word-break":"break-all","white-space":"pre-wrap"},innerHTML:a.name},null,8,$e)])),label:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.highlightFiles,((e,a)=>((0,n.wg)(),(0,n.iD)("div",{key:a,innerHTML:e},null,8,Je)))),128)),(0,n._)("div",Qe,[(0,n._)("div",Xe,(0,y.zw)(a.createTime.split(" ")[0]),1),(0,n._)("div",ea,"热度："+(0,y.zw)(a.hot),1),(0,n._)("div",aa,[a.task?((0,n.wg)(),(0,n.iD)("div",ta,(0,y.zw)(a.task.statusStr),1)):(0,n.kq)("",!0)]),(0,n._)("div",oa,[a.task&&1===a.task.status?((0,n.wg)(),(0,n.iD)("div",na,(0,y.zw)(a.task.speedStr),1)):(0,n.kq)("",!0)])])])),default:(0,n.w5)((()=>[e.activeName===a.hash?((0,n.wg)(),(0,n.j4)(i,{key:0,torrent:a},null,8,["torrent"])):(0,n.kq)("",!0)])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])}const sa={class:"main"},ia={style:{width:"15%"}},ra={style:{width:"3rem",height:"1.7rem","line-height":"1.7rem","background-color":"#f2f3f5","border-radius":"0.2rem","text-align":"center"}},da={style:{width:"25%"}},ua={key:0},ca={key:1},ma={style:{width:"20%"}},pa={key:0},va={style:{width:"30%",display:"flex","justify-content":"flex-end","align-items":"center"}},wa=(0,n.Uk)("下载 "),ha=(0,n.Uk)("开始 "),ga=(0,n.Uk)("暂停 "),fa=(0,n.Uk)("删除 ");function ya(e,a,t,o,l,s){const i=(0,n.up)("van-badge"),r=(0,n.up)("van-progress"),d=(0,n.up)("van-button"),u=(0,n.up)("van-tab"),c=(0,n.up)("FileBrowser"),m=(0,n.up)("van-tabs");return(0,n.wg)(),(0,n.iD)("div",sa,[(0,n.Wm)(m,{class:"detail-tabs",active:e.active,"onUpdate:active":a[0]||(a[0]=a=>e.active=a),type:"card",color:"#AAAAAA"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{title:"下载信息",name:"0"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.torrent.magnets,((a,o)=>((0,n.wg)(),(0,n.iD)("div",{class:"item-label magnet",key:a.hash},[(0,n._)("div",ia,[(0,n.Wm)(i,{color:"#AAAAAA",content:a.hot},{default:(0,n.w5)((()=>[(0,n._)("div",ra," 资源"+(0,y.zw)(o+1),1)])),_:2},1032,["content"])]),(0,n._)("div",da,[t.torrent.task&&t.torrent.task.hash===a.hash?((0,n.wg)(),(0,n.iD)("div",ua,[(0,n.Wm)(r,{class:"progress",color:"#AAA","show-pivot":!0,percentage:t.torrent.task.progress,"stroke-width":"16"},null,8,["percentage"])])):((0,n.wg)(),(0,n.iD)("div",ca,(0,y.zw)(a.createTime.split(" ")[0]),1))]),(0,n._)("div",ma,[t.torrent.task&&t.torrent.task.hash===a.hash?((0,n.wg)(),(0,n.iD)("div",pa,(0,y.zw)(t.torrent.task.progress+"%"),1)):(0,n.kq)("",!0)]),(0,n._)("div",va,[t.torrent.task&&t.torrent.task.hash===a.hash?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:0,class:"btn",plain:"",hairline:"",size:"small",type:"primary",onClick:t=>e.download(a.hash)},{default:(0,n.w5)((()=>[wa])),_:2},1032,["onClick"])),t.torrent.task&&2===t.torrent.task.status?((0,n.wg)(),(0,n.j4)(d,{key:1,class:"btn",plain:"",hairline:"",size:"small",type:"success",onClick:t=>e.start(a.hash)},{default:(0,n.w5)((()=>[ha])),_:2},1032,["onClick"])):(0,n.kq)("",!0),t.torrent.task&&1===t.torrent.task.status?((0,n.wg)(),(0,n.j4)(d,{key:2,class:"btn",plain:"",hairline:"",size:"small",type:"warning",onClick:t=>e.stop(a.hash)},{default:(0,n.w5)((()=>[ga])),_:2},1032,["onClick"])):(0,n.kq)("",!0),t.torrent.task?((0,n.wg)(),(0,n.j4)(d,{key:3,class:"btn",style:{"margin-left":"10px"},plain:"",hairline:"",size:"small",type:"danger",onClick:t=>e.remove(a.hash)},{default:(0,n.w5)((()=>[fa])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])])))),128))])),_:1}),(0,n.Wm)(u,{title:"资源信息",name:"1"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{hash:t.torrent.hash},null,8,["hash"])])),_:1})])),_:1},8,["active"])])}const ka={class:"main"},ba={class:"nav",ref:"navDiv"},_a=["data-index"],Sa=["onClick"],Ia={class:"file-list-container"},Wa=["onClick"],Da={class:"file-name"},Ca={key:1,style:{"font-size":"0.7rem"}};function Ua(e,a,t,o,l,s){const i=(0,n.up)("van-icon"),r=(0,n.up)("van-list");return(0,n.wg)(),(0,n.iD)("div",ka,[(0,n._)("div",ba,[(0,n._)("div",{class:"nav-item",style:{"white-space":"nowrap"},onClick:a[0]||(a[0]=(...a)=>e.reSet&&e.reSet(...a))}," 全部 "),e.nav.length>0?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(e.nav,((a,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"nav-item",key:a,"data-index":t},[(0,n.Wm)(i,{class:"item-split",name:"arrow"}),(0,n._)("div",{class:"nav-item-text",onClick:a=>e.onSelectNav(t)},(0,y.zw)(a),9,Sa)],8,_a)))),128)):(0,n.kq)("",!0)],512),(0,n._)("div",Ia,[(0,n.Wm)(r,{loading:e.loading,"onUpdate:loading":a[1]||(a[1]=a=>e.loading=a),finished:e.finished,"finished-text":"",onLoad:e.onLoad,offset:50},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.list,(a=>((0,n.wg)(),(0,n.iD)("div",{class:"file",key:a,onClick:t=>e.onSelectFolder(a)},[(0,n._)("div",Da,[a.folder?((0,n.wg)(),(0,n.j4)(i,{key:0,class:"iconfont","class-prefix":"icon",name:"wenjianjia"})):((0,n.wg)(),(0,n.j4)(i,{key:1,class:"iconfont","class-prefix":"icon",name:"wenjian"})),(0,n.Uk)(" "+(0,y.zw)(a.name),1)]),a.folder?((0,n.wg)(),(0,n.j4)(i,{key:0,class:"item-split",name:"arrow"})):((0,n.wg)(),(0,n.iD)("div",Ca,(0,y.zw)(a.length),1))],8,Wa)))),128))])),_:1},8,["loading","finished","onLoad"])])])}var Va={name:"ListFileBrowser",props:{hash:{type:String,required:!0}},setup(e){const a=(0,c.iH)(null),t=(0,c.qj)({nav:[],list:[],loading:!1,finished:!1,pageNum:0}),o={onLoad(){o.loadData(t.nav.join("|"),t.pageNum++)},async loadData(a,o){t.loading=!0;let n=await je.get("/fileList",{hash:e.hash,path:a,pageNum:o,pageSize:10});t.list=t.list.concat(n.data.data.content),t.loading=!1,t.finished=n.data.data.last},onSelectFolder(e){e.folder&&(t.nav.push(e.name),t.pageNum=0,t.list=[],o.onLoad(),(0,n.Y3)((()=>{a.value.scrollLeft=a.value.scrollWidth})))},reSet(){t.nav=[],t.pageNum=0,t.list=[],o.onLoad()},onSelectNav(e){t.nav=t.nav.slice(0,e+1),t.pageNum=0,t.list=[],o.onLoad()}};return{...(0,c.BK)(t),...o,navDiv:a}}};const xa=(0,p.Z)(Va,[["render",Ua],["__scopeId","data-v-95e01870"]]);var za=xa,La={name:"ListDetail",props:{torrent:{type:Object,require:!0}},components:{FileBrowser:za},setup(e){const a=(0,c.qj)({torrent:e.torrent,active:"0"}),t={download(e){je.get("/downloader/download",{hashes:e}).then((()=>{(0,Pe.NU)({message:"开始下载",type:"primary "})}))},start(e){je.get("/downloader/start",{hashes:e}).then((()=>{(0,Pe.NU)({message:"开始下载",type:"primary "})}))},stop(e){je.get("/downloader/stop",{hashes:e}).then((()=>{(0,Pe.NU)({message:"已暂停",type:"primary "})}))},remove(e){(0,Ne.WD)({title:"确认删除？",message:"删除任务会同时删除已下载的文件！"}).then((()=>{je.get("/downloader/remove",{hashes:e}).then((()=>{(0,Pe.NU)({message:"已删除",type:"primary "})}))}))}};return{...(0,c.BK)(a),...t}}};const qa=(0,p.Z)(La,[["render",ya],["__scopeId","data-v-0ecf4e06"]]);var Na=qa,Pa={name:"ListItem",components:{ListDetail:Na},props:{torrents:{type:Array,require:!0}},setup(e){const a=(0,c.qj)({torrents:e.torrents,activeName:null,active:"1"}),t={};return{...(0,c.BK)(a),...t}}};const ja=(0,p.Z)(Pa,[["render",la],["__scopeId","data-v-842551b0"]]);var Aa=ja;function Ha(e,a,t,o,l,s){return(0,n.wg)(),(0,n.iD)("div")}var Oa={name:"ListRefresh",emits:["update:torrents"],props:{torrents:{type:Array,require:!0},time:{type:Number,default:3e3}},setup(e,a){const t=async()=>{let t=e.torrents;if(!t||0===t.length)return;let o=await je.get("/downloader/list"),n=o.data.data;if(n&&0!==n.length){for(let e of t){let a=!1;e:for(let t of e.magnets)for(let o of n)if(t.hash===o.hash){e.task=o,a=!0;break e}!1===a&&(e.task=null)}a.emit("update:torrents",t)}};let o=setInterval((()=>{t()}),e.time);const n=async()=>{clearInterval(o),o=null,await t(),o=setInterval((()=>{t()}),e.time)};return(0,f.iS)(((e,a,t)=>{clearInterval(o),t()})),{refresh:n}}};const Za=(0,p.Z)(Oa,[["render",Ha]]);var Ta=Za,Ba={name:"SearchList",components:{ListItem:Aa,ListRefresh:Ta},setup(){const e=(0,c.iH)([]),a=(0,c.qj)({form:{keywords:null,searchField:"",searchModel:"",pageNum:0,pageSize:10},loading:!1,finished:!1}),t={async search(){console.log("search");let t=await je.get("/search",a.form);e.value=e.value.concat(t.data.data.content),a.loading=!1,a.finished=t.data.data.last},newSearch(o){e.value=[],a.form={...o,pageNum:0,pageSize:10},t.nextSearch()},nextSearch(){a.loading=!0,t.search(),a.form.pageNum=a.form.pageNum+1}};return{list:e,...(0,c.BK)(a),...t}}};const Ka=(0,p.Z)(Ba,[["render",Ye]]);var Ma=Ka,Fa={name:"SearchView",components:{SearchInput:Ee,SearchList:Ma},setup(){const e=(0,c.iH)(null),a={onSearch(a){e.value.newSearch(a)}};return{...a,searchList:e}}};const Ea=(0,p.Z)(Fa,[["render",Te]]);var Ra=Ea;function Ya(e,a,t,o,l,s){const i=(0,n.up)("DownloaderList");return(0,n.wg)(),(0,n.j4)(i,{ref:"searchList"},null,512)}const Ga={class:"main"};function $a(e,a,t,o,l,s){const i=(0,n.up)("van-tab"),r=(0,n.up)("van-tabs"),d=(0,n.up)("ListItem"),u=(0,n.up)("van-list"),c=(0,n.up)("ListRefresh");return(0,n.wg)(),(0,n.iD)("div",Ga,[(0,n.Wm)(r,{active:e.status,"onUpdate:active":a[0]||(a[0]=a=>e.status=a),onChange:e.onLoad},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{title:"全部",name:"",disabled:e.disabled},null,8,["disabled"]),(0,n.Wm)(i,{title:"下载中",name:"1",disabled:e.disabled},null,8,["disabled"]),(0,n.Wm)(i,{title:"已暂停",name:"2",disabled:e.disabled},null,8,["disabled"]),(0,n.Wm)(i,{title:"已完成",name:"3",disabled:e.disabled},null,8,["disabled"])])),_:1},8,["active","onChange"]),(0,n.Wm)(u,{loading:e.loading,"onUpdate:loading":a[1]||(a[1]=a=>e.loading=a),finished:e.finished,"finished-text":"没有更多了"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{torrents:o.list},null,8,["torrents"])])),_:1},8,["loading","finished"]),(0,n.Wm)(c,{torrents:o.list,"onUpdate:torrents":a[2]||(a[2]=e=>o.list=e)},null,8,["torrents"])])}var Ja={name:"DownloaderList",components:{ListRefresh:Ta,ListItem:Aa},setup(){const e=(0,c.iH)([]),a=(0,c.qj)({status:null,loading:!1,finished:!1,disabled:!1}),t={async search(){a.disabled=!0,a.loading=!0,a.finished=!1;let t=await je.get("/downloader/torrents",{status:a.status});200===t.data.code&&(e.value=e.value.concat(t.data.data)),a.disabled=!1,a.loading=!1,a.finished=!0},onSearch(){e.value=[],a.search={pageNum:0,pageSize:10},t.search()},nextSearch(){a.search.pageNum=a.search.pageNum+1,t.search()},onLoad:()=>{t.onSearch()}};return{list:e,...(0,c.BK)(a),...t}}};const Qa=(0,p.Z)(Ja,[["render",$a]]);var Xa=Qa,et={name:"DownloaderView",components:{DownloaderList:Xa},setup(){return{}}};const at=(0,p.Z)(et,[["render",Ya]]);var tt=at;const ot={class:"main"},nt=(0,n.Uk)(" 修改密码 "),lt=(0,n.Uk)(" 系统数据展示 "),st=(0,n.Uk)(" 退出登录 "),it={style:{display:"flex","align-items":"center"}},rt=["innerHTML"],dt={key:0,style:{margin:"0 10px"}},ut={style:{"text-align":"center"}};function ct(e,a,t,l,s,i){const r=(0,n.up)("van-icon"),d=(0,n.up)("van-cell"),u=(0,n.up)("van-cell-group"),c=(0,n.up)("van-switch");return(0,n.wg)(),(0,n.iD)("div",ot,[(0,n.Wm)(u,{title:"系统设置",inset:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{"is-link":"",onClick:e.toEditPassword},{title:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"iconfont","class-prefix":"icon",name:"xiugaimima"}),nt])),_:1},8,["onClick"]),(0,n.Wm)(d,{"is-link":"",onClick:e.toDataShow},{title:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"iconfont","class-prefix":"icon",name:"xiaoyanfangan",size:"1.2rem"}),lt])),_:1},8,["onClick"]),(0,n.Wm)(d,{"is-link":"",onClick:e.toLogout},{title:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"iconfont","class-prefix":"icon",name:"tuichu",size:"1.2rem"}),st])),_:1},8,["onClick"])])),_:1}),(0,n.Wm)(u,{inset:"",title:"下载器设置"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.downloaderConfigs,(a=>((0,n.wg)(),(0,n.j4)(d,{"is-link":"",key:a.name,onClick:t=>e.toUpdateDownloader(a)},{title:(0,n.w5)((()=>[(0,n._)("div",it,[(0,n._)("div",{innerHTML:a.icon},null,8,rt),(0,n.Uk)(" "+(0,y.zw)(a.name),1)])])),"right-icon":(0,n.w5)((()=>[(0,n.Wm)(c,{modelValue:a.use,"onUpdate:modelValue":e=>a.use=e,size:"20",loading:a.loading,"active-color":!1===a.status?"#ee0a24":"",onClick:(0,o.iM)((t=>{a.loading=!0,e.changeUse(a)}),["stop"])},null,8,["modelValue","onUpdate:modelValue","loading","active-color","onClick"])])),default:(0,n.w5)((()=>[a.use?((0,n.wg)(),(0,n.iD)("div",dt,(0,y.zw)(!1===a.status?"下载器异常":!0===a.loading?"正在启用...":"已启用"),1)):(0,n.kq)("",!0)])),_:2},1032,["onClick"])))),128))])),_:1}),(0,n._)("div",ut,[(0,n._)("div",{style:{margin:"auto",padding:"10px",width:"5rem",color:"blue"},onClick:a[0]||(a[0]=a=>e.toAddDownloader())},"添加下载器")])])}var mt={name:"SettingView",setup(){const e=(0,c.qj)({name:null,downloaderConfigs:[]}),a=(0,f.tv)(),t={async getDownloaderConfig(){let a=await je.get("/downloader");e.downloaderConfigs=a.data.data},toEditPassword(){a.push("/setting/edit-password")},toDataShow(){a.push("/setting/data-show")},toAddDownloader(){a.push("/setting/add-downloader")},toUpdateDownloader(e){a.push({path:"/setting/add-downloader",query:{...e}})},toLogout(){(0,Ne.WD)({title:"友情提示",message:"确认退出登录？"}).then((()=>{je.post("/logout").then((e=>{200===e.data.code&&a.push("/login")}))}))},changeUse(e){!1===e.use?(0,Ne.WD)({title:"友情提示",message:"关闭后请启用其他下载器，否则会影响其他模块功能"}).then((()=>{je.post("/change/use",e).then((e=>{t.getDownloaderConfig(),200===e.data.code?(0,Pe.NU)({message:"设置成功",type:"primary "}):(0,Pe.NU)({message:e.data.msg})}))})).catch((()=>{t.getDownloaderConfig()})):je.post("/downloader/test",e).then((()=>{je.post("/change/use",e).then((e=>{t.getDownloaderConfig(),200===e.data.code?(0,Pe.NU)({message:"设置成功",type:"primary "}):(0,Pe.NU)({message:e.data.msg})}))})).catch((()=>{e.use=!1,e.loading=!1}))}};return t.getDownloaderConfig(),{...(0,c.BK)(e),...t}}};const pt=(0,p.Z)(mt,[["render",ct]]);var vt=pt;const wt={class:"main"},ht={style:{margin:"16px"}},gt=(0,n.Uk)(" 删除 ");function ft(e,a,t,o,l,s){const i=(0,n.up)("van-nav-bar"),r=(0,n.up)("van-field"),d=(0,n.up)("van-picker"),u=(0,n.up)("van-popup"),c=(0,n.up)("van-switch"),m=(0,n.up)("van-cell-group"),p=(0,n.up)("van-button"),v=(0,n.up)("van-col"),w=(0,n.up)("van-row"),h=(0,n.up)("van-form");return(0,n.wg)(),(0,n.iD)("div",wt,[(0,n.Wm)(i,{title:e.edit?"修改下载器":"添加下载器","left-text":"返回","left-arrow":"",onClickLeft:e.back},null,8,["title","onClickLeft"]),(0,n.Wm)(h,{"label-width":"4rem",onSubmit:e.onSubmit},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{inset:"",title:"请填写下载器信息"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"nameField",readonly:e.edit,modelValue:e.form.name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.name=a),name:"name",label:"名称",placeholder:"下载器自定义名称",rules:[{required:!0,message:"请填写下载器自定义名称"}]},null,8,["readonly","modelValue"]),(0,n.Wm)(r,{modelValue:e.form.type,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.type=a),"is-link":"",readonly:"",name:"type",label:"类型",placeholder:"选择下载器类型",onClick:a[2]||(a[2]=a=>e.showPicker=!0)},null,8,["modelValue"]),(0,n.Wm)(u,{show:e.showPicker,"onUpdate:show":a[4]||(a[4]=a=>e.showPicker=a),position:"bottom"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{columns:e.types,onConfirm:e.onSelectType,onCancel:a[3]||(a[3]=a=>e.showPicker=!1)},null,8,["columns","onConfirm"])])),_:1},8,["show"]),(0,n.Wm)(r,{modelValue:e.form.host,"onUpdate:modelValue":a[5]||(a[5]=a=>e.form.host=a),name:"host",label:"地址",placeholder:"下载器地址(例:http://127.0.0.1:8888)"},null,8,["modelValue"]),(0,n.Wm)(r,{modelValue:e.form.userName,"onUpdate:modelValue":a[6]||(a[6]=a=>e.form.userName=a),name:"userName",label:"账号",placeholder:"下载器登录账号"},null,8,["modelValue"]),(0,n.Wm)(r,{modelValue:e.form.password,"onUpdate:modelValue":a[7]||(a[7]=a=>e.form.password=a),type:"password",name:"password",label:"密码",placeholder:"下载器登录密码",rules:[{required:!0,message:"请填写下载器登录密码"}]},null,8,["modelValue"]),(0,n.Wm)(r,{name:"use",label:"是否启用"},{input:(0,n.w5)((()=>[(0,n.Wm)(c,{size:"20",modelValue:e.form.use,"onUpdate:modelValue":a[8]||(a[8]=a=>e.form.use=a),loading:e.form.loading,onClick:e.configTest},null,8,["modelValue","loading","onClick"])])),_:1})])),_:1}),(0,n._)("div",ht,[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{span:"8"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{size:"large",type:"danger",onClick:e.deleteDownloader,disabled:e.form.loading},{default:(0,n.w5)((()=>[gt])),_:1},8,["onClick","disabled"])])),_:1}),(0,n.Wm)(v,{span:"15",offset:"1"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{size:"large",type:"primary","native-type":"submit",disabled:e.form.loading},{default:(0,n.w5)((()=>[(0,n.Uk)((0,y.zw)(e.edit?"修改":"添加"),1)])),_:1},8,["disabled"])])),_:1})])),_:1})])])),_:1},8,["onSubmit"])])}const yt={name:"AddDownloader",setup(){let e=(0,f.tv)(),a=e.currentRoute.value.query;void 0!==a.name&&(a.use=JSON.parse(a.use));const t=(0,c.qj)({edit:void 0!==a.name,showPicker:!1,types:[],form:a.name?a:{name:null,type:null,host:null,userName:null,password:null,use:!1}});je.get("/downloader/support").then((e=>{t.types=e.data.data.map((e=>({text:e.name,value:e.name,icon:e.icon})))}));const o={back(){history.back()},onSelectType({selectedValues:e}){console.log(e),t.form.type=e[0],t.showPicker=!1},onSubmit(e){je.post(t.edit?"/edit/downloader":"/add/downloader",e).then((e=>{200===e.data.code&&(0,Pe.NU)({message:t.edit?"修改成功":"添加成功",type:"primary ",duration:1e3,onClose:()=>{history.back()}})}))},deleteDownloader(){(0,Ne.WD)({title:"删除提示",message:"确认删除？"}).then((()=>{je.post("/del/downloader",t.form).then((e=>{200===e.data.code&&(0,Pe.NU)({message:"删除成功",type:"primary ",duration:1e3,onClose:()=>{history.back()}})}))}))},configTest(){t.form.host&&t.form.type||((0,Pe.NU)({message:"请先填写配置"}),t.form.use=!1),!1!==t.form.use&&(t.form.loading=!0,je.post("/downloader/test",t.form).then((()=>{t.form.loading=!1})).catch((()=>{t.form.loading=!1,t.form.use=!1})))}};return{...(0,c.BK)(t),...o}}},kt=()=>{(0,o.sj)((e=>({"7ada813e":e.edit?"#EFEFEF":e.none})))},bt=yt.setup;yt.setup=bt?(e,a)=>(kt(),bt(e,a)):kt;var _t=yt;const St=(0,p.Z)(_t,[["render",ft],["__scopeId","data-v-1ecbef38"]]);var It=St;const Wt={class:"main"},Dt={style:{margin:"16px"}},Ct=(0,n.Uk)(" 修改 ");function Ut(e,a,t,o,l,s){const i=(0,n.up)("van-nav-bar"),r=(0,n.up)("van-field"),d=(0,n.up)("van-cell-group"),u=(0,n.up)("van-button"),c=(0,n.up)("van-form");return(0,n.wg)(),(0,n.iD)("div",Wt,[(0,n.Wm)(i,{title:"修改密码","left-text":"返回","left-arrow":"",onClickLeft:e.back},null,8,["onClickLeft"]),(0,n.Wm)(c,{"label-width":"4rem",onSubmit:e.onSubmit},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{inset:"",title:"请填写账号密码"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"userName",readonly:"",modelValue:e.form.userName,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.userName=a),name:"userName",label:"用户名"},null,8,["modelValue"]),(0,n.Wm)(r,{modelValue:e.form.password,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.password=a),type:"password",name:"password",label:"原密码",placeholder:"请输入原密码",rules:[{required:!0,message:"请输入原密码"}]},null,8,["modelValue"]),(0,n.Wm)(r,{modelValue:e.form.newPassword,"onUpdate:modelValue":a[2]||(a[2]=a=>e.form.newPassword=a),type:"password",name:"newPassword",label:"新密码",placeholder:"请输入新密码",rules:[{required:!0,message:"请输入新密码"}]},null,8,["modelValue"]),(0,n.Wm)(r,{modelValue:e.form.newPassword1,"onUpdate:modelValue":a[3]||(a[3]=a=>e.form.newPassword1=a),type:"password",name:"newPassword1",label:"密码确认",placeholder:"请再次输入新密码",rules:[{required:!0,message:"请再次输入新密码"}]},null,8,["modelValue"])])),_:1}),(0,n._)("div",Dt,[(0,n.Wm)(u,{size:"large",type:"primary","native-type":"submit"},{default:(0,n.w5)((()=>[Ct])),_:1})])])),_:1},8,["onSubmit"])])}var Vt={name:"EditPassword",setup(){const e=(0,c.qj)({form:{userName:"xiaomu",password:null,newPassword:null}}),a={back(){history.back()},onSubmit(e){e.newPassword===e.newPassword1?(0,Ne.WD)({title:"修改提示",message:"确认修改？"}).then((()=>{je.post("/edit/password",e).then((e=>{200===e.data.code&&(0,Pe.NU)({message:"修改成功，请重新登录",type:"primary ",duration:3e3,onClose:()=>{history.back()}})}))})):(0,Pe.NU)({message:"新密码两次输入不一致"})}};return{...(0,c.BK)(e),...a}}};const xt=(0,p.Z)(Vt,[["render",Ut],["__scopeId","data-v-3f08a073"]]);var zt=xt;const Lt={class:"main"};function qt(e,a,t,o,l,s){const i=(0,n.up)("van-nav-bar"),r=(0,n.up)("van-switch"),d=(0,n.up)("van-field"),u=(0,n.up)("van-cell-group"),c=(0,n.up)("van-form");return(0,n.wg)(),(0,n.iD)("div",Lt,[(0,n.Wm)(i,{title:"数据展示","left-text":"返回","left-arrow":"",onClickLeft:e.back},null,8,["onClickLeft"]),(0,n.Wm)(c,{"label-width":"4rem"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"setting",inset:"",title:"选择需要展示的数据"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{name:"switch",label:"展示IPv4数据"},{input:(0,n.w5)((()=>[(0,n.Wm)(r,{size:"1.2rem",modelValue:e.form.ipv4,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.ipv4=a),onChange:e.showIpv4},null,8,["modelValue","onChange"])])),_:1}),(0,n.Wm)(d,{name:"switch",label:"展示IPv6数据"},{input:(0,n.w5)((()=>[(0,n.Wm)(r,{size:"1.2rem",modelValue:e.form.ipv6,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.ipv6=a),onChange:e.showIpv6},null,8,["modelValue","onChange"])])),_:1}),(0,n.Wm)(d,{name:"switch",label:"展示下载器信息"},{input:(0,n.w5)((()=>[(0,n.Wm)(r,{size:"1.2rem",modelValue:e.form.downloader,"onUpdate:modelValue":a[2]||(a[2]=a=>e.form.downloader=a),onChange:e.showDownloader},null,8,["modelValue","onChange"])])),_:1}),(0,n.Wm)(d,{name:"switch",label:"展示仓库信息"},{input:(0,n.w5)((()=>[(0,n.Wm)(r,{size:"1.2rem",modelValue:e.form.store,"onUpdate:modelValue":a[3]||(a[3]=a=>e.form.store=a),onChange:e.showStore},null,8,["modelValue","onChange"])])),_:1})])),_:1})])),_:1})])}var Nt={name:"DataShow",setup(){null==localStorage.getItem("showIpv4")&&localStorage.setItem("showIpv4","true"),null==localStorage.getItem("showIpv6")&&localStorage.setItem("showIpv6","true"),null==localStorage.getItem("downloader")&&localStorage.setItem("downloader","true"),null==localStorage.getItem("store")&&localStorage.setItem("store","true");const e=(0,c.qj)({form:{ipv4:"true"===localStorage.getItem("showIpv4"),ipv6:"true"===localStorage.getItem("showIpv6"),downloader:"true"===localStorage.getItem("downloader"),store:"true"===localStorage.getItem("store")}}),a={back(){history.back()},showIpv4(){localStorage.setItem("showIpv4",e.form.ipv4)},showIpv6(){localStorage.setItem("showIpv6",e.form.ipv6)},showDownloader(){localStorage.setItem("downloader",e.form.downloader)},showStore(){localStorage.setItem("store",e.form.store)}};return{...(0,c.BK)(e),...a}}};const Pt=(0,p.Z)(Nt,[["render",qt],["__scopeId","data-v-5b4f0d5c"]]);var jt=Pt;const At={class:"main"},Ht={style:{margin:"16px"}},Ot=(0,n.Uk)(" 登录 ");function Zt(e,a,t,o,l,s){const i=(0,n.up)("van-field"),r=(0,n.up)("van-cell-group"),d=(0,n.up)("van-button"),u=(0,n.up)("van-form");return(0,n.wg)(),(0,n.iD)("div",At,[(0,n.Wm)(u,{"label-width":"4rem",onSubmit:e.onSubmit},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{inset:"",title:"系统登录"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{class:"userName",modelValue:e.form.userName,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.userName=a),name:"userName",placeholder:"请输入账号",label:"账号",rules:[{required:!0,message:"请输入账号"}]},null,8,["modelValue"]),(0,n.Wm)(i,{modelValue:e.form.password,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.password=a),type:"password",name:"password",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请输入密码"}]},null,8,["modelValue"])])),_:1}),(0,n._)("div",Ht,[(0,n.Wm)(d,{size:"large",type:"primary","native-type":"submit"},{default:(0,n.w5)((()=>[Ot])),_:1})])])),_:1},8,["onSubmit"])])}var Tt={name:"LoginView",setup(){const e=(0,c.qj)({form:{userName:null,password:null}}),a={onSubmit(e){je.post("/login",e).then((e=>{200===e.data.code&&(0,Pe.NU)({message:"登录成功",type:"primary ",duration:1e3,onClose:()=>{Ft.push("/system")}})}))}};return{...(0,c.BK)(e),...a}}};const Bt=(0,p.Z)(Tt,[["render",Zt]]);var Kt=Bt;const Mt=(0,f.p7)({history:(0,f.PO)(),routes:[{path:"/",redirect:"/system"},{path:"/system",component:Oe,meta:{title:"系统状态"}},{path:"/search",component:Ra,meta:{title:"资源搜索"}},{path:"/downloader",component:tt,meta:{title:"下载器"}},{path:"/setting",component:vt,meta:{title:"设置"}},{path:"/login",component:Kt,meta:{title:"登录"}},{path:"/setting/add-downloader",component:It,meta:{title:"添加下载器"}},{path:"/setting/edit-password",component:zt,meta:{title:"修改密码"}},{path:"/setting/data-show",component:jt,meta:{title:"系统数据展示"}}]});Mt.beforeEach(((e,a,t)=>{e.meta.title&&(document.title=`${e.meta.title}`),t()}));var Ft=Mt;const Et=(0,o.ri)(w);Et.use(h.ZPm),Et.use(Ft),Et.config.globalProperties.$http=g.Z,g.Z.defaults.baseURL="/api",Et.mount("#app")}},a={};function t(o){var n=a[o];if(void 0!==n)return n.exports;var l=a[o]={exports:{}};return e[o](l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(a,o,n,l){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],l=e[u][2];for(var i=!0,r=0;r<o.length;r++)(!1&l||s>=l)&&Object.keys(t.O).every((function(e){return t.O[e](o[r])}))?o.splice(r--,1):(i=!1,l<s&&(s=l));if(i){e.splice(u--,1);var d=n();void 0!==d&&(a=d)}}return a}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[o,n,l]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,o){var n,l,s=o[0],i=o[1],r=o[2],d=0;if(s.some((function(a){return 0!==e[a]}))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(r)var u=r(t)}for(a&&a(o);d<s.length;d++)l=s[d],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(u)},o=self["webpackChunkdht"]=self["webpackChunkdht"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(4107)}));o=t.O(o)})();
//# sourceMappingURL=app.aa0c364c.js.map